{% schema %}
{
  "name": "Bonus Product",
  "settings": [],
  "blocks": [
    {
      "type": "product_list",
      "name": "Trigger Products",
      "settings": [
        {
          "type": "product_list",
          "id": "trigger_products",
          "label": "Trigger Products",
          "default": []
        },
        {
          "type": "product",
          "id": "bonus_product",
          "label": "Bonus Product"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Default",
      "category": "Product"
    }
  ]
}
{% endschema %}

<script>
document.addEventListener('DOMContentLoaded', function() {
    console.log('Bonus Product Section Wokring')
  var triggerProducts = [];
  var bonusProductId = '{{ block.settings.bonus_product.id }}';

  {% for block in section.blocks %}
    {% if block.type == 'bonus-product' %}
      {% assign triggers = block.settings.trigger_products %}
      {% for product in triggers %}
        triggerProducts.push('{{ product.id }}');
      {% endfor %}
    {% endif %}
  {% endfor %}

  console.log('Trigger Products:', triggerProducts);
  console.log('Bonus Product ID:', bonusProductId);

});
</script>
